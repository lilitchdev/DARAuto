from web3.middleware import geth_poa_middleware
from web3 import Web3
import time
from requests import Session
from pyuseragents import random as random_useragent

w3 = Web3(Web3.HTTPProvider('https://bsc-dataseed.binance.org/'))
w3.middleware_onion.inject(geth_poa_middleware, layer=0)
masterWalletUrl = 'https://k6qd41buh0.execute-api.us-east-1.amazonaws.com/prod/register-master-wallet'
session = Session()
session.headers.update({'user-agent': random_useragent(), 'accept': '*/*', 'accept-language': 'ru,en;q=0.9,vi;q=0.8,es;q=0.7', 'referer': 'https://landsale.minesofdalarnia.com/'})


def approve(address, private_key):
    abi = [{"inputs":[{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"owner","type":"address"},{"indexed":True,"internalType":"address","name":"spender","type":"address"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":True,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"from","type":"address"},{"indexed":True,"internalType":"address","name":"to","type":"address"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"to","type":"address"},{"indexed":True,"internalType":"bytes32","name":"refID","type":"bytes32"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferFromNative","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"from","type":"address"},{"indexed":True,"internalType":"bytes32","name":"to","type":"bytes32"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferToNative","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes32","name":"refID","type":"bytes32"}],"name":"transferFromNative","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"to","type":"bytes32"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferToNative","outputs":[],"stateMutability":"nonpayable","type":"function"}]
    bytecode = '0x608060405234801561001057600080fd5b506004361061010b5760003560e01c8063715018a6116100a2578063a457c2d711610071578063a457c2d7146102ee578063a9059cbb1461031a578063d98057c814610346578063dd62ed3e14610378578063f2fde38b146103a65761010b565b8063715018a6146102b2578063893d20e8146102ba5780638da5cb5b146102de57806395d89b41146102e65761010b565b806323b872dd116100de57806323b872dd1461020c578063313ce56714610242578063395093511461026057806370a082311461028c5761010b565b806306fdde0314610110578063095ea7b31461018d5780631396f857146101cd57806318160ddd146101f2575b600080fd5b6101186103cc565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015257818101518382015260200161013a565b50505050905090810190601f16801561017f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101b9600480360360408110156101a357600080fd5b506001600160a01b038135169060200135610462565b604080519115158252519081900360200190f35b6101f0600480360360408110156101e357600080fd5b508035906020013561047f565b005b6101fa6104c4565b60408051918252519081900360200190f35b6101b96004803603606081101561022257600080fd5b506001600160a01b038135811691602081013590911690604001356104ca565b61024a610551565b6040805160ff9092168252519081900360200190f35b6101b96004803603604081101561027657600080fd5b506001600160a01b03813516906020013561055a565b6101fa600480360360208110156102a257600080fd5b50356001600160a01b03166105a8565b6101f06105c3565b6102c2610677565b604080516001600160a01b039092168252519081900360200190f35b6102c2610686565b610118610695565b6101b96004803603604081101561030457600080fd5b506001600160a01b0381351690602001356106f6565b6101b96004803603604081101561033057600080fd5b506001600160a01b03813516906020013561075e565b6101b96004803603606081101561035c57600080fd5b506001600160a01b038135169060208101359060400135610772565b6101fa6004803603604081101561038e57600080fd5b506001600160a01b0381358116916020013516610832565b6101f0600480360360208110156103bc57600080fd5b50356001600160a01b031661085d565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104585780601f1061042d57610100808354040283529160200191610458565b820191906000526020600020905b81548152906001019060200180831161043b57829003601f168201915b5050505050905090565b600061047661046f6108d3565b84846108d7565b50600192915050565b61048933826109c3565b604080518281529051839133917f82c6ab3718ccb4cf1157245de6052ef1ebe596ee4ff6b5a23c48cd610a1bb3529181900360200190a35050565b60035490565b60006104d7848484610ab3565b610547846104e36108d3565b61054285604051806060016040528060288152602001610f35602891396001600160a01b038a166000908152600260205260408120906105216108d3565b6001600160a01b031681526020810191909152604001600020549190610c05565b6108d7565b5060019392505050565b60045460ff1690565b60006104766105676108d3565b8461054285600260006105786108d3565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610c9c565b6001600160a01b031660009081526001602052604090205490565b6105cb6108d3565b6000546001600160a01b0390811691161461062d576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000610681610686565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104585780601f1061042d57610100808354040283529160200191610458565b60006104766107036108d3565b8461054285604051806060016040528060258152602001610fa6602591396002600061072d6108d3565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610c05565b600061047661076b6108d3565b8484610ab3565b600061077c6108d3565b6000546001600160a01b039081169116146107de576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6107e88484610cfd565b60408051848152905183916001600160a01b038716917fec1c07bf8768248649595ca4787b6565d34cd6a0e3e2cd58d80af7b38c4bd59e9181900360200190a35060019392505050565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b6108656108d3565b6000546001600160a01b039081169116146108c7576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6108d081610de3565b50565b3390565b6001600160a01b03831661091c5760405162461bcd60e51b8152600401808060200182810382526024815260200180610eeb6024913960400191505060405180910390fd5b6001600160a01b0382166109615760405162461bcd60e51b815260040180806020018281038252602281526020018061100e6022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038216610a085760405162461bcd60e51b8152600401808060200182810382526021815260200180610fcb6021913960400191505060405180910390fd5b610a4581604051806060016040528060228152602001610fec602291396001600160a01b0385166000908152600160205260409020549190610c05565b6001600160a01b038316600090815260016020526040902055600354610a6b9082610e83565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038316610af85760405162461bcd60e51b8152600401808060200182810382526025815260200180610ec66025913960400191505060405180910390fd5b6001600160a01b038216610b3d5760405162461bcd60e51b8152600401808060200182810382526023815260200180610f836023913960400191505060405180910390fd5b610b7a81604051806060016040528060268152602001610f5d602691396001600160a01b0386166000908152600160205260409020549190610c05565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610ba99082610c9c565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610c945760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610c59578181015183820152602001610c41565b50505050905090810190601f168015610c865780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610cf6576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610d58576040805162461bcd60e51b815260206004820152601f60248201527f42455032303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b600354610d659082610c9c565b6003556001600160a01b038216600090815260016020526040902054610d8b9082610c9c565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b038116610e285760405162461bcd60e51b8152600401808060200182810382526026815260200180610f0f6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610cf683836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610c0556fe42455032303a207472616e736665722066726f6d20746865207a65726f206164647265737342455032303a20617070726f76652066726f6d20746865207a65726f20616464726573734f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737342455032303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636542455032303a207472616e7366657220616d6f756e7420657863656564732062616c616e636542455032303a207472616e7366657220746f20746865207a65726f206164647265737342455032303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f42455032303a206275726e2066726f6d20746865207a65726f206164647265737342455032303a206275726e20616d6f756e7420657863656564732062616c616e636542455032303a20617070726f766520746f20746865207a65726f2061646472657373a26469706673582212208abf8e792cbc307bbb9197570a16dbceaeedb0d2ca41fb42366b491c3e6b715964736f6c634300060c0033'
    contract = w3.eth.contract(address='0x23CE9e926048273eF83be0A3A8Ba9Cb6D45cd978',abi=abi,bytecode=bytecode)

    nonce = w3.eth.getTransactionCount(address)
    transaction = contract.functions.approve('0x9BBb6C93FAEc023b99eE0a5b43f300EC3c2f41A0', 160000000000000).buildTransaction({
        'from': address,
        'nonce': nonce
    })
    # print(transaction)
    signed_txn = w3.eth.account.signTransaction(transaction, private_key=private_key)
    send = w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    tx_hash = w3.toHex(w3.keccak(signed_txn.rawTransaction))
    return tx_hash

def deposit(address, private_key):
    abi = [{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"oracle","type":"address"},{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"address","name":"_erc721Contract","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"uint256","name":"landId","type":"uint256"}],"name":"LandAwarded","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":True,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deadline","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"depositorAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"depositorIdx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc721_target_contract","outputs":[{"internalType":"contract SupportsERC721Mintable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"depositer","type":"address"}],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"depositer","type":"address"}],"name":"getPureBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"lotteryId","type":"uint256"}],"name":"isLotteryWinner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"isThereLandToRedeem","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"lottery","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bool","name":"canBeRedeemed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextLotteryIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"lotteryId","type":"uint256"},{"internalType":"address[]","name":"unWinners","type":"address[]"}],"name":"removeWinnersFromLottery","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lotteryIdx","type":"uint256"},{"internalType":"address[]","name":"winners","type":"address[]"},{"internalType":"uint256[]","name":"landIds","type":"uint256[]"},{"internalType":"uint256","name":"landCost","type":"uint256"},{"internalType":"bool","name":"overwrite","type":"bool"}],"name":"uploadWinners","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawUnconditionally","outputs":[],"stateMutability":"nonpayable","type":"function"}]
    bytecode = '0x608060405234801561001057600080fd5b50600436106101735760003560e01c80639010d07c116100de578063a217fddf11610097578063d1b3b41c11610071578063d1b3b41c146104c1578063d547741f14610538578063f8b2cb4f14610564578063fc0c546a1461058a57610173565b8063a217fddf1461047f578063b6b55f2514610487578063ca15c873146104a457610173565b80639010d07c1461037657806391d148541461039957806391e6ef0b146103d9578063936014d8146104055780639d0b6d371461042b578063a08e6df51461047757610173565b806349f8054a1161013057806349f8054a1461025f578063683a9c951461026757806370c4f6501461033857806371a4d9cf1461035e578063776205b8146103665780638da5cb5b1461036e57610173565b80630c467db914610178578063248a9ca3146101b157806329dcb0cf146101e05780632e1a7d4d146101e85780632f2ff15d1461020757806336568abe14610233575b600080fd5b6101956004803603602081101561018e57600080fd5b5035610592565b604080516001600160a01b039092168252519081900360200190f35b6101ce600480360360208110156101c757600080fd5b50356105ad565b60408051918252519081900360200190f35b6101ce6105c5565b610205600480360360208110156101fe57600080fd5b50356105cb565b005b6102056004803603604081101561021d57600080fd5b50803590602001356001600160a01b0316610718565b6102056004803603604081101561024957600080fd5b50803590602001356001600160a01b0316610784565b6102056107e5565b610205600480360360a081101561027d57600080fd5b8135919081019060408101602082013564010000000081111561029f57600080fd5b8201836020820111156102b157600080fd5b803590602001918460208302840111640100000000831117156102d357600080fd5b9193909290916020810190356401000000008111156102f157600080fd5b82018360208201111561030357600080fd5b8035906020019184602083028401116401000000008311171561032557600080fd5b919350915080359060200135151561089c565b6101ce6004803603602081101561034e57600080fd5b50356001600160a01b0316610bd3565b6101ce610bee565b610195610bf4565b610195610c03565b6101956004803603604081101561038c57600080fd5b5080359060200135610c12565b6103c5600480360360408110156103af57600080fd5b50803590602001356001600160a01b0316610c33565b604080519115158252519081900360200190f35b6103c5600480360360408110156103ef57600080fd5b506001600160a01b038135169060200135610c4b565b6103c56004803603602081101561041b57600080fd5b50356001600160a01b0316610c74565b6104576004803603604081101561044157600080fd5b50803590602001356001600160a01b0316610ce9565b604080519384526020840192909252151582820152519081900360600190f35b6101ce610d18565b6101ce610d1e565b6102056004803603602081101561049d57600080fd5b5035610d23565b6101ce600480360360208110156104ba57600080fd5b5035610ea7565b610205600480360360408110156104d757600080fd5b813591908101906040810160208201356401000000008111156104f957600080fd5b82018360208201111561050b57600080fd5b8035906020019184602083028401116401000000008311171561052d57600080fd5b509092509050610ebe565b6102056004803603604081101561054e57600080fd5b50803590602001356001600160a01b0316610ff7565b6101ce6004803603602081101561057a57600080fd5b50356001600160a01b0316611050565b6101956110f5565b6006602052600090815260409020546001600160a01b031681565b6000818152602081905260409020600201545b919050565b600a5481565b60026001541415610611576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001556000610620611119565b905061062b8161111d565b6001600160a01b038116600090815260056020526040902054828110156106835760405162461bcd60e51b8152600401808060200182810382526021815260200180611ab96021913960400191505060405180910390fd5b60035461069a906001600160a01b031683856111da565b6001600160a01b0382166000908152600560205260409020546106bd9084611231565b6001600160a01b038316600081815260056020908152604091829020939093558051868152905191927f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a942436492918290030190a250506001805550565b60008281526020819052604090206002015461073b90610736611119565b610c33565b6107765760405162461bcd60e51b815260040180806020018281038252602f815260200180611a6a602f913960400191505060405180910390fd5b610780828261128e565b5050565b61078c611119565b6001600160a01b0316816001600160a01b0316146107db5760405162461bcd60e51b815260040180806020018281038252602f815260200180611c89602f913960400191505060405180910390fd5b61078082826112f7565b6002600154141561082b576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b6002600155600061083a611119565b6001600160a01b038116600090815260056020526040902054600a5491925090421161086557600080fd5b8015610894576001600160a01b03808316600090815260056020526040812055600354610894911683836111da565b505060018055565b6108c87f352d05fe3946dbe49277552ba941e744d5a96d9c60bc1ba0ea5f1d3ae000f7c8610736611119565b610919576040805162461bcd60e51b815260206004820181905260248201527f4f7261636c653a2063616c6c6572206973206e6f7420746865206f7261636c65604482015290519081900360640190fd5b6002600154141561095f576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001558483146109a25760405162461bcd60e51b8152600401808060200182810382526043815260200180611b616043913960600191505060405180910390fd5b60095487908111156109e55760405162461bcd60e51b815260040180806020018281038252602b815260200180611bcb602b913960400191505060405180910390fd5b600a81106109f257600080fd5b631dcd6500831115610a0357600080fd5b81610a56576009548114610a485760405162461bcd60e51b8152600401808060200182810382526031815260200180611b306031913960400191505060405180910390fd5b600980546001019055610a96565b6009548110610a965760405162461bcd60e51b8152600401808060200182810382526027815260200180611ba46027913960400191505060405180910390fd5b60005b86811015610bc457600082815260086020526040812090898984818110610abc57fe5b602090810292909201356001600160a01b03168352508101919091526040016000206002015460ff1615610b215760405162461bcd60e51b815260040180806020018281038252602f815260200180611bf6602f913960400191505060405180910390fd5b610b29611a24565b848152868683818110610b3857fe5b602090810292909201358383015250600160408084019190915260008581526008909252812082918b8b86818110610b6c57fe5b602090810292909201356001600160a01b031683525081810192909252604090810160002083518155918301516001808401919091559201516002909101805460ff1916911515919091179055919091019050610a99565b50506001805550505050505050565b6001600160a01b031660009081526005602052604090205490565b60075481565b6004546001600160a01b031681565b6002546001600160a01b031681565b6000828152602081905260408120610c2a9083611360565b90505b92915050565b6000828152602081905260408120610c2a908361136c565b60009081526008602090815260408083206001600160a01b039490941683529290522054151590565b6001600160a01b0381166000908152600b6020526040812054805b600954811015610cdf5760008181526008602090815260408083206001600160a01b038816845290915290206002015460ff16151560011415610cd7576001925050506105c0565b600101610c8f565b5060009392505050565b600860209081526000928352604080842090915290825290208054600182015460029092015490919060ff1683565b60095481565b600081565b60026001541415610d69576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001556000610d78611119565b905060008211610d8757600080fd5b600354610d9f906001600160a01b0316823085611381565b6001600160a01b03811660009081526005602052604090205415610dfe576001600160a01b038116600090815260056020526040902054610de090836113e1565b6001600160a01b038216600090815260056020526040902055610e60565b6001600160a01b038116600090815260056020526040902054610e60576007805460018101909155600090815260066020908152604080832080546001600160a01b0319166001600160a01b0386169081179091558352600590915290208290555b6040805183815290516001600160a01b038316917fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c919081900360200190a2505060018055565b6000818152602081905260408120610c2d9061143b565b610eea7f352d05fe3946dbe49277552ba941e744d5a96d9c60bc1ba0ea5f1d3ae000f7c8610736611119565b610f3b576040805162461bcd60e51b815260206004820181905260248201527f4f7261636c653a2063616c6c6572206973206e6f7420746865206f7261636c65604482015290519081900360640190fd5b60026001541415610f81576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b600260015560005b81811015610fed57600084815260086020526040812090848484818110610fac57fe5b602090810292909201356001600160a01b03168352508101919091526040016000908120818155600180820192909255600201805460ff1916905501610f89565b5050600180555050565b60008281526020819052604090206002015461101590610736611119565b6107db5760405162461bcd60e51b8152600401808060200182810382526030815260200180611b006030913960400191505060405180910390fd5b6001600160a01b038116600090815260056020908152604080832054600b909252822054805b6009548110156110ec5760008181526008602090815260408083206001600160a01b038916845290915290206002015460ff161515600114156110e45760008181526008602090815260408083206001600160a01b03891684529091529020546110e1908490611231565b92505b600101611076565b50909392505050565b6003546001600160a01b031681565b6000610c2a836001600160a01b038416611446565b3390565b6001600160a01b0381166000908152600b6020526040902054805b6009548110156111aa5760008181526008602090815260408083206001600160a01b038716845290915290206002015460ff161515600114156111a25760008181526008602090815260408083206001600160a01b038716845290915290206111a2908490611490565b600101611138565b5060095415610780576009546001600160a01b0383166000908152600b6020526040902060001990910190555050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b17905261122c9084906115f9565b505050565b600082821115611288576040805162461bcd60e51b815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b50900390565b60008281526020819052604090206112a69082611104565b15610780576112b3611119565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b600082815260208190526040902061130f90826116aa565b156107805761131c611119565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6000610c2a83836116bf565b6000610c2a836001600160a01b038416611723565b604080516001600160a01b0380861660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b1790526113db9085906115f9565b50505050565b600082820183811015610c2a576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b6000610c2d8261173b565b60006114528383611723565b61148857508154600181810184556000848152602080822090930184905584548482528286019093526040902091909155610c2d565b506000610c2d565b80546001600160a01b03831660009081526005602052604090205410156114e85760405162461bcd60e51b815260040180806020018281038252603a815260200180611c4f603a913960400191505060405180910390fd5b6002548154600354611508926001600160a01b03918216929116906111da565b80546001600160a01b03831660009081526005602052604090205461152c91611231565b6001600160a01b038084166000818152600560205260408082209490945560048054600187015486516340c10f1960e01b8152928301949094526024820193909352935191909216926340c10f1992604480830193919282900301818387803b15801561159857600080fd5b505af11580156115ac573d6000803e3d6000fd5b50505060028201805460ff191690555060018101546040516001600160a01b038416907f46670a5423e53c806aba9bee69105a21bf7a07afbb88b95149e0947a418bc76190600090a35050565b606061164e826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b031661173f9092919063ffffffff16565b80519091501561122c5780806020019051602081101561166d57600080fd5b505161122c5760405162461bcd60e51b815260040180806020018281038252602a815260200180611c25602a913960400191505060405180910390fd5b6000610c2a836001600160a01b038416611758565b815460009082106117015760405162461bcd60e51b8152600401808060200182810382526022815260200180611a486022913960400191505060405180910390fd5b82600001828154811061171057fe5b9060005260206000200154905092915050565b60009081526001919091016020526040902054151590565b5490565b606061174e848460008561181e565b90505b9392505050565b60008181526001830160205260408120548015611814578354600019808301919081019060009087908390811061178b57fe5b90600052602060002001549050808760000184815481106117a857fe5b6000918252602080832090910192909255828152600189810190925260409020908401905586548790806117d857fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050610c2d565b6000915050610c2d565b60608247101561185f5760405162461bcd60e51b8152600401808060200182810382526026815260200180611ada6026913960400191505060405180910390fd5b6118688561197a565b6118b9576040805162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b60006060866001600160a01b031685876040518082805190602001908083835b602083106118f85780518252601f1990920191602091820191016118d9565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d806000811461195a576040519150601f19603f3d011682016040523d82523d6000602084013e61195f565b606091505b509150915061196f828286611980565b979650505050505050565b3b151590565b6060831561198f575081611751565b82511561199f5782518084602001fd5b8160405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b838110156119e95781810151838201526020016119d1565b50505050905090810190601f168015611a165780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b60405180606001604052806000815260200160008152602001600015158152509056fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e6473416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e745265656e7472616e637947756172643a207265656e7472616e742063616c6c0057697468647261773a20416464726573732062616c616e636520746f6f206c6f77416464726573733a20696e73756666696369656e742062616c616e636520666f722063616c6c416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b6575706c6f616457696e6e65723a2043616e2774206f766572777269746520616e206578697374696e67206c6f747465727975706c6f616457696e6e65723a2057696e6e65722061727261792073686f756c6420686176652073616d65206c656e677468206173206c616e6449647320617272617943616e6e6f74206f76657277726974652061206e6f6e206578697374696e67206c6f747465727975706c6f616457696e6e65723a20596f7520736b6970706564206f6e65206c6f7474657279206576656e7475706c6f616457696e6e65723a20557365722063616e27742077696e2073616d65206c6f74746572792074776963655361666545524332303a204552433230206f7065726174696f6e20646964206e6f74207375636365656453656e64657220646f65736e2774206861766520656e6f756768206d6f6e657920746f2072656465656d2074686520776f6e206c616e64287329416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a264697066735822122029816ba45ee16ed7084bd8897815b02d7b73db551a48f27f08f8cf30fa69335b64736f6c634300060c0033'
    contract = w3.eth.contract(address='0x9BBb6C93FAEc023b99eE0a5b43f300EC3c2f41A0',abi=abi,bytecode=bytecode)

    nonce = w3.eth.getTransactionCount(address)
    transaction = contract.functions.deposit(100*10**6).buildTransaction({
        'from': address,
        'nonce': nonce
    })
    # print(transaction)
    signed_txn = w3.eth.account.signTransaction(transaction, private_key=private_key)
    send = w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    tx_hash = w3.toHex(w3.keccak(signed_txn.rawTransaction))
    return tx_hash

def withdraw(address, private_key):
    abi = [{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"oracle","type":"address"},{"internalType":"contract IERC20","name":"_token","type":"address"},{"internalType":"address","name":"_erc721Contract","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"uint256","name":"landId","type":"uint256"}],"name":"LandAwarded","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":True,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":True,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"account","type":"address"},{"indexed":False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deadline","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"depositorAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"depositorIdx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"erc721_target_contract","outputs":[{"internalType":"contract SupportsERC721Mintable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"depositer","type":"address"}],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"depositer","type":"address"}],"name":"getPureBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"lotteryId","type":"uint256"}],"name":"isLotteryWinner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"isThereLandToRedeem","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"lottery","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bool","name":"canBeRedeemed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nextLotteryIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"lotteryId","type":"uint256"},{"internalType":"address[]","name":"unWinners","type":"address[]"}],"name":"removeWinnersFromLottery","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_lotteryIdx","type":"uint256"},{"internalType":"address[]","name":"winners","type":"address[]"},{"internalType":"uint256[]","name":"landIds","type":"uint256[]"},{"internalType":"uint256","name":"landCost","type":"uint256"},{"internalType":"bool","name":"overwrite","type":"bool"}],"name":"uploadWinners","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawUnconditionally","outputs":[],"stateMutability":"nonpayable","type":"function"}]
    bytecode = '0x608060405234801561001057600080fd5b50600436106101735760003560e01c80639010d07c116100de578063a217fddf11610097578063d1b3b41c11610071578063d1b3b41c146104c1578063d547741f14610538578063f8b2cb4f14610564578063fc0c546a1461058a57610173565b8063a217fddf1461047f578063b6b55f2514610487578063ca15c873146104a457610173565b80639010d07c1461037657806391d148541461039957806391e6ef0b146103d9578063936014d8146104055780639d0b6d371461042b578063a08e6df51461047757610173565b806349f8054a1161013057806349f8054a1461025f578063683a9c951461026757806370c4f6501461033857806371a4d9cf1461035e578063776205b8146103665780638da5cb5b1461036e57610173565b80630c467db914610178578063248a9ca3146101b157806329dcb0cf146101e05780632e1a7d4d146101e85780632f2ff15d1461020757806336568abe14610233575b600080fd5b6101956004803603602081101561018e57600080fd5b5035610592565b604080516001600160a01b039092168252519081900360200190f35b6101ce600480360360208110156101c757600080fd5b50356105ad565b60408051918252519081900360200190f35b6101ce6105c5565b610205600480360360208110156101fe57600080fd5b50356105cb565b005b6102056004803603604081101561021d57600080fd5b50803590602001356001600160a01b0316610718565b6102056004803603604081101561024957600080fd5b50803590602001356001600160a01b0316610784565b6102056107e5565b610205600480360360a081101561027d57600080fd5b8135919081019060408101602082013564010000000081111561029f57600080fd5b8201836020820111156102b157600080fd5b803590602001918460208302840111640100000000831117156102d357600080fd5b9193909290916020810190356401000000008111156102f157600080fd5b82018360208201111561030357600080fd5b8035906020019184602083028401116401000000008311171561032557600080fd5b919350915080359060200135151561089c565b6101ce6004803603602081101561034e57600080fd5b50356001600160a01b0316610bd3565b6101ce610bee565b610195610bf4565b610195610c03565b6101956004803603604081101561038c57600080fd5b5080359060200135610c12565b6103c5600480360360408110156103af57600080fd5b50803590602001356001600160a01b0316610c33565b604080519115158252519081900360200190f35b6103c5600480360360408110156103ef57600080fd5b506001600160a01b038135169060200135610c4b565b6103c56004803603602081101561041b57600080fd5b50356001600160a01b0316610c74565b6104576004803603604081101561044157600080fd5b50803590602001356001600160a01b0316610ce9565b604080519384526020840192909252151582820152519081900360600190f35b6101ce610d18565b6101ce610d1e565b6102056004803603602081101561049d57600080fd5b5035610d23565b6101ce600480360360208110156104ba57600080fd5b5035610ea7565b610205600480360360408110156104d757600080fd5b813591908101906040810160208201356401000000008111156104f957600080fd5b82018360208201111561050b57600080fd5b8035906020019184602083028401116401000000008311171561052d57600080fd5b509092509050610ebe565b6102056004803603604081101561054e57600080fd5b50803590602001356001600160a01b0316610ff7565b6101ce6004803603602081101561057a57600080fd5b50356001600160a01b0316611050565b6101956110f5565b6006602052600090815260409020546001600160a01b031681565b6000818152602081905260409020600201545b919050565b600a5481565b60026001541415610611576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001556000610620611119565b905061062b8161111d565b6001600160a01b038116600090815260056020526040902054828110156106835760405162461bcd60e51b8152600401808060200182810382526021815260200180611ab96021913960400191505060405180910390fd5b60035461069a906001600160a01b031683856111da565b6001600160a01b0382166000908152600560205260409020546106bd9084611231565b6001600160a01b038316600081815260056020908152604091829020939093558051868152905191927f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a942436492918290030190a250506001805550565b60008281526020819052604090206002015461073b90610736611119565b610c33565b6107765760405162461bcd60e51b815260040180806020018281038252602f815260200180611a6a602f913960400191505060405180910390fd5b610780828261128e565b5050565b61078c611119565b6001600160a01b0316816001600160a01b0316146107db5760405162461bcd60e51b815260040180806020018281038252602f815260200180611c89602f913960400191505060405180910390fd5b61078082826112f7565b6002600154141561082b576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b6002600155600061083a611119565b6001600160a01b038116600090815260056020526040902054600a5491925090421161086557600080fd5b8015610894576001600160a01b03808316600090815260056020526040812055600354610894911683836111da565b505060018055565b6108c87f352d05fe3946dbe49277552ba941e744d5a96d9c60bc1ba0ea5f1d3ae000f7c8610736611119565b610919576040805162461bcd60e51b815260206004820181905260248201527f4f7261636c653a2063616c6c6572206973206e6f7420746865206f7261636c65604482015290519081900360640190fd5b6002600154141561095f576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001558483146109a25760405162461bcd60e51b8152600401808060200182810382526043815260200180611b616043913960600191505060405180910390fd5b60095487908111156109e55760405162461bcd60e51b815260040180806020018281038252602b815260200180611bcb602b913960400191505060405180910390fd5b600a81106109f257600080fd5b631dcd6500831115610a0357600080fd5b81610a56576009548114610a485760405162461bcd60e51b8152600401808060200182810382526031815260200180611b306031913960400191505060405180910390fd5b600980546001019055610a96565b6009548110610a965760405162461bcd60e51b8152600401808060200182810382526027815260200180611ba46027913960400191505060405180910390fd5b60005b86811015610bc457600082815260086020526040812090898984818110610abc57fe5b602090810292909201356001600160a01b03168352508101919091526040016000206002015460ff1615610b215760405162461bcd60e51b815260040180806020018281038252602f815260200180611bf6602f913960400191505060405180910390fd5b610b29611a24565b848152868683818110610b3857fe5b602090810292909201358383015250600160408084019190915260008581526008909252812082918b8b86818110610b6c57fe5b602090810292909201356001600160a01b031683525081810192909252604090810160002083518155918301516001808401919091559201516002909101805460ff1916911515919091179055919091019050610a99565b50506001805550505050505050565b6001600160a01b031660009081526005602052604090205490565b60075481565b6004546001600160a01b031681565b6002546001600160a01b031681565b6000828152602081905260408120610c2a9083611360565b90505b92915050565b6000828152602081905260408120610c2a908361136c565b60009081526008602090815260408083206001600160a01b039490941683529290522054151590565b6001600160a01b0381166000908152600b6020526040812054805b600954811015610cdf5760008181526008602090815260408083206001600160a01b038816845290915290206002015460ff16151560011415610cd7576001925050506105c0565b600101610c8f565b5060009392505050565b600860209081526000928352604080842090915290825290208054600182015460029092015490919060ff1683565b60095481565b600081565b60026001541415610d69576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b60026001556000610d78611119565b905060008211610d8757600080fd5b600354610d9f906001600160a01b0316823085611381565b6001600160a01b03811660009081526005602052604090205415610dfe576001600160a01b038116600090815260056020526040902054610de090836113e1565b6001600160a01b038216600090815260056020526040902055610e60565b6001600160a01b038116600090815260056020526040902054610e60576007805460018101909155600090815260066020908152604080832080546001600160a01b0319166001600160a01b0386169081179091558352600590915290208290555b6040805183815290516001600160a01b038316917fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c919081900360200190a2505060018055565b6000818152602081905260408120610c2d9061143b565b610eea7f352d05fe3946dbe49277552ba941e744d5a96d9c60bc1ba0ea5f1d3ae000f7c8610736611119565b610f3b576040805162461bcd60e51b815260206004820181905260248201527f4f7261636c653a2063616c6c6572206973206e6f7420746865206f7261636c65604482015290519081900360640190fd5b60026001541415610f81576040805162461bcd60e51b815260206004820152601f6024820152600080516020611a99833981519152604482015290519081900360640190fd5b600260015560005b81811015610fed57600084815260086020526040812090848484818110610fac57fe5b602090810292909201356001600160a01b03168352508101919091526040016000908120818155600180820192909255600201805460ff1916905501610f89565b5050600180555050565b60008281526020819052604090206002015461101590610736611119565b6107db5760405162461bcd60e51b8152600401808060200182810382526030815260200180611b006030913960400191505060405180910390fd5b6001600160a01b038116600090815260056020908152604080832054600b909252822054805b6009548110156110ec5760008181526008602090815260408083206001600160a01b038916845290915290206002015460ff161515600114156110e45760008181526008602090815260408083206001600160a01b03891684529091529020546110e1908490611231565b92505b600101611076565b50909392505050565b6003546001600160a01b031681565b6000610c2a836001600160a01b038416611446565b3390565b6001600160a01b0381166000908152600b6020526040902054805b6009548110156111aa5760008181526008602090815260408083206001600160a01b038716845290915290206002015460ff161515600114156111a25760008181526008602090815260408083206001600160a01b038716845290915290206111a2908490611490565b600101611138565b5060095415610780576009546001600160a01b0383166000908152600b6020526040902060001990910190555050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b17905261122c9084906115f9565b505050565b600082821115611288576040805162461bcd60e51b815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b50900390565b60008281526020819052604090206112a69082611104565b15610780576112b3611119565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b600082815260208190526040902061130f90826116aa565b156107805761131c611119565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6000610c2a83836116bf565b6000610c2a836001600160a01b038416611723565b604080516001600160a01b0380861660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b1790526113db9085906115f9565b50505050565b600082820183811015610c2a576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b6000610c2d8261173b565b60006114528383611723565b61148857508154600181810184556000848152602080822090930184905584548482528286019093526040902091909155610c2d565b506000610c2d565b80546001600160a01b03831660009081526005602052604090205410156114e85760405162461bcd60e51b815260040180806020018281038252603a815260200180611c4f603a913960400191505060405180910390fd5b6002548154600354611508926001600160a01b03918216929116906111da565b80546001600160a01b03831660009081526005602052604090205461152c91611231565b6001600160a01b038084166000818152600560205260408082209490945560048054600187015486516340c10f1960e01b8152928301949094526024820193909352935191909216926340c10f1992604480830193919282900301818387803b15801561159857600080fd5b505af11580156115ac573d6000803e3d6000fd5b50505060028201805460ff191690555060018101546040516001600160a01b038416907f46670a5423e53c806aba9bee69105a21bf7a07afbb88b95149e0947a418bc76190600090a35050565b606061164e826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b031661173f9092919063ffffffff16565b80519091501561122c5780806020019051602081101561166d57600080fd5b505161122c5760405162461bcd60e51b815260040180806020018281038252602a815260200180611c25602a913960400191505060405180910390fd5b6000610c2a836001600160a01b038416611758565b815460009082106117015760405162461bcd60e51b8152600401808060200182810382526022815260200180611a486022913960400191505060405180910390fd5b82600001828154811061171057fe5b9060005260206000200154905092915050565b60009081526001919091016020526040902054151590565b5490565b606061174e848460008561181e565b90505b9392505050565b60008181526001830160205260408120548015611814578354600019808301919081019060009087908390811061178b57fe5b90600052602060002001549050808760000184815481106117a857fe5b6000918252602080832090910192909255828152600189810190925260409020908401905586548790806117d857fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050610c2d565b6000915050610c2d565b60608247101561185f5760405162461bcd60e51b8152600401808060200182810382526026815260200180611ada6026913960400191505060405180910390fd5b6118688561197a565b6118b9576040805162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b60006060866001600160a01b031685876040518082805190602001908083835b602083106118f85780518252601f1990920191602091820191016118d9565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d806000811461195a576040519150601f19603f3d011682016040523d82523d6000602084013e61195f565b606091505b509150915061196f828286611980565b979650505050505050565b3b151590565b6060831561198f575081611751565b82511561199f5782518084602001fd5b8160405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b838110156119e95781810151838201526020016119d1565b50505050905090810190601f168015611a165780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b60405180606001604052806000815260200160008152602001600015158152509056fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e6473416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e745265656e7472616e637947756172643a207265656e7472616e742063616c6c0057697468647261773a20416464726573732062616c616e636520746f6f206c6f77416464726573733a20696e73756666696369656e742062616c616e636520666f722063616c6c416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b6575706c6f616457696e6e65723a2043616e2774206f766572777269746520616e206578697374696e67206c6f747465727975706c6f616457696e6e65723a2057696e6e65722061727261792073686f756c6420686176652073616d65206c656e677468206173206c616e6449647320617272617943616e6e6f74206f76657277726974652061206e6f6e206578697374696e67206c6f747465727975706c6f616457696e6e65723a20596f7520736b6970706564206f6e65206c6f7474657279206576656e7475706c6f616457696e6e65723a20557365722063616e27742077696e2073616d65206c6f74746572792074776963655361666545524332303a204552433230206f7065726174696f6e20646964206e6f74207375636365656453656e64657220646f65736e2774206861766520656e6f756768206d6f6e657920746f2072656465656d2074686520776f6e206c616e64287329416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a264697066735822122029816ba45ee16ed7084bd8897815b02d7b73db551a48f27f08f8cf30fa69335b64736f6c634300060c0033'
    contract = w3.eth.contract(address='0x9BBb6C93FAEc023b99eE0a5b43f300EC3c2f41A0',abi=abi,bytecode=bytecode)

    nonce = w3.eth.getTransactionCount(address)
    transaction = contract.functions.withdraw(100*10**6).buildTransaction({
        'from': address,
        'nonce': nonce
    })
    # print(transaction)
    signed_txn = w3.eth.account.signTransaction(transaction, private_key=private_key)
    send = w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    tx_hash = w3.toHex(w3.keccak(signed_txn.rawTransaction))
    return tx_hash

def transferDAR(address, private_key, mainWallet):
    abi = [{"inputs":[{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"owner","type":"address"},{"indexed":True,"internalType":"address","name":"spender","type":"address"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":True,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"from","type":"address"},{"indexed":True,"internalType":"address","name":"to","type":"address"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"to","type":"address"},{"indexed":True,"internalType":"bytes32","name":"refID","type":"bytes32"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferFromNative","type":"event"},{"anonymous":False,"inputs":[{"indexed":True,"internalType":"address","name":"from","type":"address"},{"indexed":True,"internalType":"bytes32","name":"to","type":"bytes32"},{"indexed":False,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferToNative","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes32","name":"refID","type":"bytes32"}],"name":"transferFromNative","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"to","type":"bytes32"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferToNative","outputs":[],"stateMutability":"nonpayable","type":"function"}]
    bytecode = '0x608060405234801561001057600080fd5b506004361061010b5760003560e01c8063715018a6116100a2578063a457c2d711610071578063a457c2d7146102ee578063a9059cbb1461031a578063d98057c814610346578063dd62ed3e14610378578063f2fde38b146103a65761010b565b8063715018a6146102b2578063893d20e8146102ba5780638da5cb5b146102de57806395d89b41146102e65761010b565b806323b872dd116100de57806323b872dd1461020c578063313ce56714610242578063395093511461026057806370a082311461028c5761010b565b806306fdde0314610110578063095ea7b31461018d5780631396f857146101cd57806318160ddd146101f2575b600080fd5b6101186103cc565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015257818101518382015260200161013a565b50505050905090810190601f16801561017f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101b9600480360360408110156101a357600080fd5b506001600160a01b038135169060200135610462565b604080519115158252519081900360200190f35b6101f0600480360360408110156101e357600080fd5b508035906020013561047f565b005b6101fa6104c4565b60408051918252519081900360200190f35b6101b96004803603606081101561022257600080fd5b506001600160a01b038135811691602081013590911690604001356104ca565b61024a610551565b6040805160ff9092168252519081900360200190f35b6101b96004803603604081101561027657600080fd5b506001600160a01b03813516906020013561055a565b6101fa600480360360208110156102a257600080fd5b50356001600160a01b03166105a8565b6101f06105c3565b6102c2610677565b604080516001600160a01b039092168252519081900360200190f35b6102c2610686565b610118610695565b6101b96004803603604081101561030457600080fd5b506001600160a01b0381351690602001356106f6565b6101b96004803603604081101561033057600080fd5b506001600160a01b03813516906020013561075e565b6101b96004803603606081101561035c57600080fd5b506001600160a01b038135169060208101359060400135610772565b6101fa6004803603604081101561038e57600080fd5b506001600160a01b0381358116916020013516610832565b6101f0600480360360208110156103bc57600080fd5b50356001600160a01b031661085d565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104585780601f1061042d57610100808354040283529160200191610458565b820191906000526020600020905b81548152906001019060200180831161043b57829003601f168201915b5050505050905090565b600061047661046f6108d3565b84846108d7565b50600192915050565b61048933826109c3565b604080518281529051839133917f82c6ab3718ccb4cf1157245de6052ef1ebe596ee4ff6b5a23c48cd610a1bb3529181900360200190a35050565b60035490565b60006104d7848484610ab3565b610547846104e36108d3565b61054285604051806060016040528060288152602001610f35602891396001600160a01b038a166000908152600260205260408120906105216108d3565b6001600160a01b031681526020810191909152604001600020549190610c05565b6108d7565b5060019392505050565b60045460ff1690565b60006104766105676108d3565b8461054285600260006105786108d3565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610c9c565b6001600160a01b031660009081526001602052604090205490565b6105cb6108d3565b6000546001600160a01b0390811691161461062d576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000610681610686565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104585780601f1061042d57610100808354040283529160200191610458565b60006104766107036108d3565b8461054285604051806060016040528060258152602001610fa6602591396002600061072d6108d3565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610c05565b600061047661076b6108d3565b8484610ab3565b600061077c6108d3565b6000546001600160a01b039081169116146107de576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6107e88484610cfd565b60408051848152905183916001600160a01b038716917fec1c07bf8768248649595ca4787b6565d34cd6a0e3e2cd58d80af7b38c4bd59e9181900360200190a35060019392505050565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b6108656108d3565b6000546001600160a01b039081169116146108c7576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6108d081610de3565b50565b3390565b6001600160a01b03831661091c5760405162461bcd60e51b8152600401808060200182810382526024815260200180610eeb6024913960400191505060405180910390fd5b6001600160a01b0382166109615760405162461bcd60e51b815260040180806020018281038252602281526020018061100e6022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038216610a085760405162461bcd60e51b8152600401808060200182810382526021815260200180610fcb6021913960400191505060405180910390fd5b610a4581604051806060016040528060228152602001610fec602291396001600160a01b0385166000908152600160205260409020549190610c05565b6001600160a01b038316600090815260016020526040902055600354610a6b9082610e83565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038316610af85760405162461bcd60e51b8152600401808060200182810382526025815260200180610ec66025913960400191505060405180910390fd5b6001600160a01b038216610b3d5760405162461bcd60e51b8152600401808060200182810382526023815260200180610f836023913960400191505060405180910390fd5b610b7a81604051806060016040528060268152602001610f5d602691396001600160a01b0386166000908152600160205260409020549190610c05565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610ba99082610c9c565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610c945760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610c59578181015183820152602001610c41565b50505050905090810190601f168015610c865780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610cf6576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610d58576040805162461bcd60e51b815260206004820152601f60248201527f42455032303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b600354610d659082610c9c565b6003556001600160a01b038216600090815260016020526040902054610d8b9082610c9c565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b038116610e285760405162461bcd60e51b8152600401808060200182810382526026815260200180610f0f6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610cf683836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610c0556fe42455032303a207472616e736665722066726f6d20746865207a65726f206164647265737342455032303a20617070726f76652066726f6d20746865207a65726f20616464726573734f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737342455032303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636542455032303a207472616e7366657220616d6f756e7420657863656564732062616c616e636542455032303a207472616e7366657220746f20746865207a65726f206164647265737342455032303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f42455032303a206275726e2066726f6d20746865207a65726f206164647265737342455032303a206275726e20616d6f756e7420657863656564732062616c616e636542455032303a20617070726f766520746f20746865207a65726f2061646472657373a26469706673582212208abf8e792cbc307bbb9197570a16dbceaeedb0d2ca41fb42366b491c3e6b715964736f6c634300060c0033'
    contract = w3.eth.contract(address='0x23CE9e926048273eF83be0A3A8Ba9Cb6D45cd978',abi=abi,bytecode=bytecode)

    nonce = w3.eth.getTransactionCount(address)
    transaction = contract.functions.transfer(mainWallet, 100*10**6).buildTransaction({
        'from': address,
        'nonce': nonce
    })
    # print(transaction)
    signed_txn = w3.eth.account.signTransaction(transaction, private_key=private_key)
    send = w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    tx_hash = w3.toHex(w3.keccak(signed_txn.rawTransaction))
    return tx_hash

def transferBNB(address, private_key, mainWallet):
    nonce = w3.eth.getTransactionCount(address)
    
    # print(transaction)
    signed_txn = w3.eth.account.signTransaction(dict(
        to=mainWallet,
        value=w3.eth.get_balance(address) - 21000*w3.toWei(5, 'gwei'),
        nonce=nonce,
        gasPrice=w3.toWei(5, 'gwei'),
        gas=21000
    ), private_key=private_key)
    send = w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    tx_hash = w3.toHex(w3.keccak(signed_txn.rawTransaction))
    return tx_hash


def create_wallet(quantity):
    file = open('wallets.txt', "w")

    for i in range(quantity):
        account = w3.eth.account.create()
        privatekey = str(account.privateKey.hex())
        address = str(account.address)
        file.write(str(address)+":"+str(privatekey)+"\n")

    file.close()

if __name__ == "__main__":
    print('1 - Генерировать кошельки\n2 - Апрув + депозит\n3 - Вывод и перевод на мейн')
    choice = input()
    if choice == '1':
        print('Введите количество')
        quantity = int(input())
        create_wallet(quantity)
    elif choice == '2':
        file = open('wallets.txt', 'r')
        counter = 1
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]

            tx_hash = approve(address, private_key)
            print("Аккаунт ", counter, " - апрувнул - ", tx_hash)
            counter +=1
        time.sleep(30)
        counter = 1
        file.close()
        file = open('wallets.txt', 'r')
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]

            tx_hash = deposit(address, private_key)
            print("Аккаунт ", counter, " - депозит успешный - ", tx_hash)
            counter +=1
        file.close()
        time.sleep(30)
        file = open('wallets.txt', 'r')
        counter = 1
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]
            session.post(masterWalletUrl, json={"masterAddress": str(address)})
            time.sleep(1)
            print(session.get(f'https://k6qd41buh0.execute-api.us-east-1.amazonaws.com/prod/address/{str(address)}/status').text.split(',"lottery"')[0])
        file.close()
    elif choice == '3':
        print("Введите кошелек, на который нужно перевести монеты")
        mainWallet = input()
        print("Проверьте введенный кошелек (",mainWallet,")\nВведите 'ДА', если он правильный")
        confirmation = input()
        assert confirmation == "ДА"
        file = open('wallets.txt', 'r')
        counter = 1
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]

            tx_hash = withdraw(address, private_key)
            print("Аккаунт ", counter, " - вывел токены", tx_hash)
            counter +=1
        file.close()
        time.sleep(30)
        file = open('wallets.txt', 'r')
        counter = 1
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]

            tx_hash = transferDAR(address, private_key, mainWallet)
            print("Аккаунт ", counter, " - перевел на мейн", tx_hash)
            counter +=1
        file.close()
        time.sleep(30)
        file = open('wallets.txt', 'r')
        counter = 1
        for line in file:
            address = line.split(':')[0]
            private_key = line.split(':')[1].split("\n")[0]

            tx_hash = transferBNB(address, private_key, mainWallet)
            print("Аккаунт ", counter, " - перевел бнб", tx_hash)
            counter +=1
        file.close()
    else:
        print('Не то ввел, брат')

